<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Creds
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!Creds.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (C)</a> &raquo;
    
    
    <span class="title">Creds</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Creds
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Creds</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/creds.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class encodes and encrypts a username and a password using the OpenSSL
library. The encoded/encrypted credentials are then written to a hidden
file. The credentials can be decoded/decrypted with the same class.  The
main purpose of this class is to allow users to use Basic auth credentials
without providing them on the command line each time when calling a Web
API.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="CREDS_FILE-constant" class="">CREDS_FILE =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.creds</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="iter-classvariable" class="">@@iter =
          
        </dt>
        <dd><pre class="code"><span class='int'>20000</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#decrypted-instance_method" title="#decrypted (instance method)">- (Object) <strong>decrypted</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute decrypted.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#decryptor-instance_method" title="#decryptor (instance method)">- (Object) <strong>decryptor</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute decryptor.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#encrypted-instance_method" title="#encrypted (instance method)">- (Object) <strong>encrypted</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute encrypted.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#encryptor-instance_method" title="#encryptor (instance method)">- (Object) <strong>encryptor</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute encryptor.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#iv-instance_method" title="#iv (instance method)">- (Object) <strong>iv</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute iv.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#key-instance_method" title="#key (instance method)">- (Object) <strong>key</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute key.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pass_phrase-instance_method" title="#pass_phrase (instance method)">- (Object) <strong>pass_phrase</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute pass_phrase.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#password-instance_method" title="#password (instance method)">- (Object) <strong>password</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute password.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pw_str-instance_method" title="#pw_str (instance method)">- (Object) <strong>pw_str</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute pw_str.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#salt-instance_method" title="#salt (instance method)">- (Object) <strong>salt</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute salt.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#username-instance_method" title="#username (instance method)">- (Object) <strong>username</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute username.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_creds-instance_method" title="#get_creds (instance method)">- (Array) <strong>get_creds</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Gets credentials from file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Object) <strong>initialize</strong>(username = &quot;&quot;, password = &quot;&quot;) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stores the credentials, encodes a passphrase, creates the salt, encryptor,
and decryptor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_creds-instance_method" title="#validate_creds (instance method)">- (Boolean) <strong>validate_creds</strong>(un, pw) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Validates whether the given credentials match those that have been written
to file.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_creds-instance_method" title="#write_creds (instance method)">- (Object) <strong>write_creds</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Writes encoded and encrypted credentials to file.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt>Object</tt>) <strong>initialize</strong>(username = &quot;&quot;, password = &quot;&quot;) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stores the credentials, encodes a passphrase, creates the salt, encryptor,
and decryptor.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>username</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the username</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>password</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&quot;&quot;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the password</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_username'>username</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@username</span> <span class='op'>=</span> <span class='id identifier rubyid_username'>username</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@password</span> <span class='op'>=</span> <span class='id identifier rubyid_password'>password</span>  <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@pw_str</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@pass_phrase</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_encode64'>encode64</span><span class='lparen'>(</span><span class='backtick'>`</span><span class='tstring_content'>whoami</span><span class='tstring_end'>`</span></span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span> <span class='op'>+</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='ivar'>@encryptor</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>Cipher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AES-128-CBC</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@enrypted</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@decryptor</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>Cipher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AES-128-CBC</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@decrypted</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@key</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@salt</span> <span class='op'>=</span> <span class='const'>OpenSSL</span><span class='op'>::</span><span class='const'>Random</span><span class='period'>.</span><span class='id identifier rubyid_random_bytes'>random_bytes</span> <span class='int'>16</span>
  <span class='ivar'>@iv</span> <span class='op'>=</span> <span class='kw'>nil</span>   
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="decrypted=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="decrypted-instance_method">
  
    - (<tt>Object</tt>) <strong>decrypted</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute decrypted</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decrypted'>decrypted</span>
  <span class='ivar'>@decrypted</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="decryptor=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="decryptor-instance_method">
  
    - (<tt>Object</tt>) <strong>decryptor</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute decryptor</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decryptor'>decryptor</span>
  <span class='ivar'>@decryptor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="encrypted=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="encrypted-instance_method">
  
    - (<tt>Object</tt>) <strong>encrypted</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute encrypted</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encrypted'>encrypted</span>
  <span class='ivar'>@encrypted</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="encryptor=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="encryptor-instance_method">
  
    - (<tt>Object</tt>) <strong>encryptor</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute encryptor</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_encryptor'>encryptor</span>
  <span class='ivar'>@encryptor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="iv=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="iv-instance_method">
  
    - (<tt>Object</tt>) <strong>iv</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute iv</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_iv'>iv</span>
  <span class='ivar'>@iv</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="key=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="key-instance_method">
  
    - (<tt>Object</tt>) <strong>key</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute key</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_key'>key</span>
  <span class='ivar'>@key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="pass_phrase=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="pass_phrase-instance_method">
  
    - (<tt>Object</tt>) <strong>pass_phrase</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute pass_phrase</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pass_phrase'>pass_phrase</span>
  <span class='ivar'>@pass_phrase</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="password=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="password-instance_method">
  
    - (<tt>Object</tt>) <strong>password</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute password</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_password'>password</span>
  <span class='ivar'>@password</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="pw_str=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="pw_str-instance_method">
  
    - (<tt>Object</tt>) <strong>pw_str</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute pw_str</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pw_str'>pw_str</span>
  <span class='ivar'>@pw_str</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="salt=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="salt-instance_method">
  
    - (<tt>Object</tt>) <strong>salt</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute salt</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_salt'>salt</span>
  <span class='ivar'>@salt</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="username=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="username-instance_method">
  
    - (<tt>Object</tt>) <strong>username</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute username</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 22</span>

<span class='kw'>def</span> <span class='id identifier rubyid_username'>username</span>
  <span class='ivar'>@username</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="get_creds-instance_method">
  
    - (<tt>Array</tt>) <strong>get_creds</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Gets credentials from file. (see #read_key)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Contains the decoded/decrypted username and password.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_creds'>get_creds</span>
  <span class='id identifier rubyid_read_key'>read_key</span>
  <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_decrypt'>decrypt</span>
  <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span> <span class='op'>=</span> <span class='ivar'>@iv</span>
  <span class='ivar'>@key_len</span> <span class='op'>=</span> <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_key_len'>key_len</span>
  <span class='ivar'>@pass_phrase</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_decode64'>decode64</span><span class='lparen'>(</span><span class='ivar'>@pass_phrase</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hmac_sha1_key'>hmac_sha1_key</span>
  <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='ivar'>@key</span>
  <span class='kw'>begin</span> 
    <span class='ivar'>@decrypted</span> <span class='op'>=</span> <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='ivar'>@encrypted</span>
    <span class='ivar'>@decrypted</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@decryptor</span><span class='period'>.</span><span class='id identifier rubyid_final'>final</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='kw'>return</span> <span class='ivar'>@username</span><span class='comma'>,</span> <span class='ivar'>@password</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='ivar'>@username</span><span class='comma'>,</span> <span class='ivar'>@password</span> <span class='op'>=</span> <span class='ivar'>@decrypted</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate_creds-instance_method">
  
    - (<tt>Boolean</tt>) <strong>validate_creds</strong>(un, pw) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Validates whether the given credentials match those that have been written
to file. (see #get_creds)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>un</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the username</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>pw</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the password</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns true if creds match and false if they don&#39;t.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_validate_creds'>validate_creds</span><span class='lparen'>(</span><span class='id identifier rubyid_un'>un</span><span class='comma'>,</span> <span class='id identifier rubyid_pw'>pw</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_get_creds'>get_creds</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_un'>un</span> <span class='op'>==</span> <span class='ivar'>@username</span> <span class='kw'>and</span> <span class='id identifier rubyid_pw'>pw</span> <span class='op'>==</span> <span class='ivar'>@password</span>
    <span class='kw'>return</span> <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_creds-instance_method">
  
    - (<tt>Object</tt>) <strong>write_creds</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Writes encoded and encrypted credentials to file. (see #set_pw_str)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>None</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/creds.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_creds'>write_creds</span>
  <span class='id identifier rubyid_set_pw_str'>set_pw_str</span>
  <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_encrypt'>encrypt</span>
  <span class='ivar'>@iv</span> <span class='op'>=</span> <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_random_iv'>random_iv</span>
  <span class='ivar'>@pass_phrase</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_decode64'>decode64</span><span class='lparen'>(</span><span class='ivar'>@pass_phrase</span><span class='rparen'>)</span>
  <span class='ivar'>@key_len</span> <span class='op'>=</span> <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_key_len'>key_len</span>
  <span class='id identifier rubyid_hmac_sha1_key'>hmac_sha1_key</span>
  <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='ivar'>@key</span>
  <span class='ivar'>@encrypted</span> <span class='op'>=</span> <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='ivar'>@pw_str</span>
  <span class='ivar'>@encrypted</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@encryptor</span><span class='period'>.</span><span class='id identifier rubyid_final'>final</span>
  <span class='ivar'>@pass_phrase</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_encode64'>encode64</span><span class='lparen'>(</span><span class='ivar'>@pass_phrase</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_write_key'>write_key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Sep 11 19:11:35 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.0.0).
</div>

  </body>
</html>